language: java
jdk: oraclejdk8

env:
  global:
  - secure: ADzUzKLnjHKSwhCxwkfAARhBmD3tBjq8z/dGxcK4z7O90o1kQdd/e8MwO4XerCxUdR7kNrppsjE1YxctwuZsnvOeaY0hbI6WhfYEDl0ztRNqs2tMW8Zamc5B4Rxs3BjeGahrhOOpOEDztq9ngkeL22x5+OktHYpLZM5uI9goJdkOmZ1b+5ZMYUmpQOpbNrqYzzIn7HdWEMp7FRlesBBQ29st9LgIsnKcmIBbN1aAwMY6NMtISKXr5rdT8lipZervYj5802EBHa4+hTnI/miRg3bSSwR6hSyqjNROqPNcc+6Ye2RANJV+3Lne3W3KzkX1Y4hc+cVRNsFiFa+0shduxm0FgrHC75RIVmjG/uBDD4rQdidLFiYlV7eZUTN35I4VthHfLg6WUP88eZPSPlDJ/Do8G+QGJwCpUO+6xOIiNK3t7B0w+6++C3Eo2cGD+y2F09kI6RTJTLMyGyZrhjG9a8QH0heRK66O1st1cbHsku0zWT7WbAhpvG+Ux5WG12h/5tISmIRo6xGwNE0yIPb9V979EGSssTe+60r07letBI4Rg0/v4KEuhKBlemIv/rIU+1cA+xRV4NB3Vk2jvFFWHYUm1qA8c37xjHc9fO7sYjxmLDS7EglfFlXWv7X4xBBzEYmUuQBYQ0sRQXujEXMj+h/Waq4dbYs3VXGirs7kAvQ=
  - secure: xlSNVrs3fhwtcclCcHK40B7tI5cVIkoX4NL67todOIDmrf5azDTQlipq+cSKE5hbyVadEB2P/RbvSnUBe1Iw+cVAywIlXVi21UFY22nKsz6b8qAXJQSZ80gP6gSasIskYT0pbWQcrqAyvW1+9yMgOo0vSUUS5rXu+9BB4DZnI8xcSk1IcdosWxEmjghJVWbiA4Gz+X5LLP617Pw4CZ1gtuXAXZXiYajmr/b3uChuUXWztddruaPu391RM5eFgubWXFE/NFDSRB5CrvYSZlOTpt6T506thVs4cfimKAKEUASaBe9ZpKx25GYzvt+WmjBwaZ4RUdAf3jrE8x/rQoERe1iR8HUemmSd1mX/CRi8FAeLT545kEURBilOMdylAqPxBvV9x/2WuramnskdpkNFCJJxIzvq19JLMCiBdxp/rrdUhXUyISGSxeix8ixP4UxAl9xMOSsE6JzT2IfoWgOLIS6tcB2IoOfWG0lvQjU83Jvracy6ZWmPxNb8KxS7IdCROyeG7nzrVWvKsFMUPsC7XcVlzeZ1jdbhaLiAB5MP9vf1XeNA5usWJQCxmD7UUtohv12/yZd31d1F2JaxCHg15GnOHhUHQjc3Bx6gY3M+fvDojK9xBdqVK150bVeqyG0eR62yPRDpw2skKGwTanphSqYoPysjqUxDklbOuTz5Zt0=
  - secure: HdIkL5Sa/XKb22QJHN/MIEEXwNhB1ikbUYz9TRB3wkquhrImvAcP+lMBR1JmxlosN7r8LVjc9AWyYzqnCreBHlp5kcQiMNsa9+2/pFIOlvc5oyrhAbBSqeU71Dm2bzPy6bbo71efI8NxLM1DRmPyZkLPHwRJgKvZauhzqFMtkjydPtfJGCvoTwUNp5fO9F5gboSOS0yTGk3ubqigSjWGBVhiM4QEsImEpxPo34y0+b37YC58UlZbeIS0fWs9xA6CBYHJv3DVhDZj4Oups7MZSHflBtgblKXtxK7O7cK/LR3g2T2i/4OhAKTvkTY/0NwmEdDY168bp95w+TzL5Jv6zPMP6OvOfMk0pIbRtiLA2NmlDnornpdwoaZNa4gGjEi1XLUGSgShtcwJtkQsxZ6qfnosiKtyLM9zdx/W+4eBdbz53D+VS97vKiCXAJyzaMdru/Tpi4jZBjhR7UCewCoE19b2zLevlhN1hd9MUdcDzjSN0ab0r1oh1p0A5l4FIODkhpoazns4bufEuMFg41hHnCOx2qrr/W1LqkKE67gG47g22TtDbW6f+OaoEsTFjkOcHUVjjDfYmxo3OSCPk+PIQ+rf8I+P/2yFHF+g+4c7jQZ0Qn0kbNrq3wRo5AQNaNL1biijcwxONepBaTTnIvGHD+GvHdx9dGCgp3UgtKMyiy8=
  - secure: 4qVHAQTBGYRM54ofXhROf3RLhRpjdhutVCDylCkfp/iD6Y9II6u2etmLXX8LkNuMA4kYhC8VhQkyniK1QKetknWehwlO3lzvXLA83b9mbwNuPg+PDWFgkQyjhxRpWNL0qI+/QPq79rFsyXX4Ip40YhLk6gM2uP4wBhQDLKMXNzegYgXZxbi87p4FiIMrOTarjbln8dnW4O3VQ/dCnSxFWCkqEqJdLdLzL0a+/YRGTBRXozO7akIfIMLuKiSrGRvB+buBBcyUUYS9j9vWB6dln1zsTNReKFrPBI1e2Q6k/LWJaR9Z9UkHiv/KByQb6bi/LusqrvbOM0ikkHDuo1cGj/A5aKnmu4SEYeJR21xHdrqz5iEMgXr4zHHbnaXfskBgPRlqIgho+nD3muKq50OtwNOPJ7ujBacSmb/ZRYiyt0pvjo9NhtYSA15LkF1d7J72PZkS0/7an3JUxnjr0WxmkjQQwChuFo5pFMNGSD4GXTm3HNWX5AeoRvVGhPgKFP/cJVjMbU7Xotalt+sgtUOOJSGmAEU0NJXJE738LFiSdrg0LFY+nveQXQvi5Vy/kB5W8fUSnYo/QKGraQk+B1yBXwaAkBeHb1G2OuCxcLYskXwWt3SSktMpnbheyd3po7c6dPANpR1geR+bpCe+EvPox2PQilAS4k1AEt16Pyp+9Os=

install: mvn install -P !build-extras -B -V

before_script:
- openssl aes-256-cbc -K $encrypted_dc48ef620fc5_key -iv $encrypted_dc48ef620fc5_iv -in codesigning/codesigning.asc.enc -out codesigning/codesigning.asc -d
- gpg --fast-import codesigning/codesigning.asc

script:
- if [ $TRAVIS_TEST_RESULT -eq 0 ]; then
    mvn deploy -P sign,build-extras --settings codesigning/mvnsettings.xml;
  fi
