language: java
jdk: oraclejdk8
env:
  global:
    - secure: "CrHcGePLiVHyJNOjoMb6K6dyYK6Ratbn8wgiqA/7uTa5fPdmlL1e3GmHklYAThmgh4kdLBfu1Ju/xT2HCeEALvrtcFf/8DgbxMU9lBr1gRNVHc5326FFhb2irsCZTSC12UIZc6gFMSGLHHhRRWdUd3dz5jbHFjiyVtf0QFRM92qlM2K85kHlJadzS+5oM8FkKfKPTTUFAF04spRepeJZZb5SxD5cEewhMHqkcf9nfwNhixYfdkB+rhM2PRKMm/x0lC5rAcXlhhm2m6UOpF4uHYOAATyvXWFB0eLsxJgACLr2zsJ7oMklOfx2fvXP/XqJLXb10Op1flhWEP0XjZS0/gcXOHrYYPOhiyS48sHz+5NTJ1f5QCMjmx/lPkAmnFnc/oKCaKYw1mV3Ilv37u0MT4husNHrtYpeW55UNONE22c+2O4UETv19nTeThqZmcVsBW1me7OQOOL24Tdlxe+4blL9+KszdLa4P3QqWz9Rdez6vThxkofvlU5E3JiQnJXP0khmiWt4XJ0Z0pkskFp65vFZ8OherAH5Q4mghW+WgWnezm9LbETb99bYeUXfhdnJN36OLAHFn//T3ZlJ9OKc1U9e0BFKkeiEmlp6ejAZzsZpz7x7iv3ijhy0Lbz4D3T9mXiddrMq0MJeZfpNc4Cd83yWlr7aonhtIc08arMMuso="
    - secure: "7T+8I5+5hAgHDKnhZg+qekJBDlou/RYdAAMtolSp2FDBM6RKTwWP3J/g2vbkjoc3EC0wN8CSqb5piccuXWUQwLiT0vggqeY26Mqf5ny5hd3u2mO0weAiz1c33p7NIwiCBV+8xA4UN6/OVvjlY1im/CSeYrRSxKH6MdU2v11ANRfgG57AQ0AeWssFDMshgVEeYDqECm5f2eQfBcWExoktB5a0+LCj94jZ6IWIyqSnue3MN0AZpMTFl3vX+Q43kK09Tj1WJ7DFxWJ7c660SFJJseKlDF7fwP1fSZMpGXrdQpzwIymK5r41zBcnQVQJRdj5hJqvEVSEkQV2SosU5rz0p0YRbne597c/EpWpvgMKRzVaIcMr6YbMiGl08OosGtJsFhsWMYBlf0XJ5caVF3qY1to09EGQiKP2vUdMaQ0HCODi9u3RXBQHyPXrV/G827qGtawX8E9/Yp8Uvau0owO2w6fuUWokx4nTqQKvntGdCLGclmq0C0SV4OYUGTfZzbtnJPDQApJsre2BQ5uHg47LIRcq1JOTsJhQFxyXqa6pJ+n1jKSaAc4qiSnlrbq2s8IcvuK7DC5JeUrcHR5SzA2ma49mSWhTZDmJp5IObhMoU1ur7UME4cNmqE33OfTu2dn42c92oe5oSlqmCsrEATrY2Dpf3u/bisCdGj5kAsOeVHQ="
    - secure: "hqD2FGgnwtv629vImkZuMiV9ff1rcTMU6CegXYJ9naN/luYPagu5BWzZyJ6wGlCrL7tIEeJ60lJWcKjoFDP5/dDcyEIEJ6smqFOXvWXtzoDsa0Jj0ukVZtbgT1e6ItrmD46wEbiPqzjmZtIIKJU0Otk8G/EJ5v4DyZbJGz4LOl/si1CNybpclOVu/qiex5qzq+jjwQW0yQy43jsX50DkO8kxAH+R5Q9jCtRkG11S0GFMCLePoqb+I8eNuKeYDvOUnnwzlOecqGDyYpvBCCc67lgf8MyrMzZT+xpBNy3DbMdpBAKJWK+XIi23dY7eLEPhlxA8cXCnCj37e7FIQ+kHYk46BjMPjCf7z2tVmn7bm6KbPypYWfw+u+e3aSMF2IBqCw2Lg96GbLNVE0/OhtM1ttmR945jpPqqwl+IxcoIYjHlRs7jTLDp0p1u0jgM5aICaVLMiSlTML/swHdnRph9y87K1mOFzzFIZAjUdQSNK3ASqGdPtjxwwLJR66AulTohj6Me1j2sM5vA1G9DPORP7yeT73GOlufblytE8iZh9gHXdhruxU8svMED1Xyi+9i9XdWscXP9LyYwESjrHMMejsbxyJrCTkZLF1Zj7bYujw9td7fpyGhgQUcokA5aGCGxRddm+8hFIKUkPPesxM0gUY67AznnAs0V24mHy7GtU3U="
    - secure: "V4aPzWPIXJTcsX/7kAQDeB/N3l4lUvQcBh3oy2RXxLihCV3OP3VcfBpGhBnZeNegiNYQKwI+8BdRgQPTOmAPLptqyoarrtfbrWRO8saf+pM13mU8SjbIGxvj0y541oJRzd1GvVmVKKRKUT+nOgSa8gdeOZ8zGOZJ7l92mvvpuYOPt6RHmW/QVEmxUJYD57pfFd7AqKiDiccDqE4ZvA2iiSi6gpqOrbzsiXWcaa1+BP+912z4xgtLsN7QCbfljxebpU13/7ALEOHKNZ60AYmjyCKgTdWMCy3hosUbuTQjGgDIl478oK/h+/12d5hh4qjZz7LsUHJqzZ84WNblW2Ubc7KpDyYqFtqChSKMxvAh9iisOwOQjUzAvG3uJrGqNpq1Gnrs+BtDDJgPwgV7jRUsMKzsTB/xiKgLTRLMiFX7IWhLHR5tjgQB+rg5vczIo88UN+O4MNqwizXZ5CnzTdQ23VxzyVjw41a34IXod2N0vJqW9BtHETmUfPkaR3HNVwEHbkbQL2IDbUcmsjKAEMdGzuonSyQRblPhKXBfJAA5N65jXYgiKQGJvRN+x5nuZr1UK7GA5+Rl2G52jPZydIOAmjm5ye+Q9VBjAr6c2uaulzIutLbBWX6fi/gOCnW57fdaL/21gLO85OTrT3SpC5NnL78W6JN4t5Pwwn3HBK9IuPE="

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

before_script:
- openssl aes-256-cbc -K $encrypted_dc48ef620fc5_key -iv $encrypted_dc48ef620fc5_iv
  -in codesigning/codesigning.asc.enc -out codesigning/codesigning.asc -d
- gpg --fast-import codesigning/codesigning.asc

script:
- mvn test -P !build-extras -B
- if [ $TRAVIS_TEST_RESULT -eq 0 ]; then mvn deploy -P sign,build-extras --settings
  codesigning/mvnsettings.xml; fi
